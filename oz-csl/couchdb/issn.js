{"_id":"_design/issn","_rev":"4-275ffd631861cf09d65fe4e7d89ba162","views":{"work-issn":{"map":"function(doc) {\n    if (doc['message-format']) {\n        if (doc['message-format'] == 'application/vnd.crossref-api-message+json') {\n\n            var csl = doc.message;\n\n            if (csl['container-title']) {\n                var title = '';\n                if (Array.isArray(csl['container-title'])) {\n                    title = csl['container-title'][0];\n                } else {\n                    title = csl['container-title'];\n                }\n\n                var issn = '';\n\n                /*\n\"issn-type\": [\n      {\n        \"value\": \"0370-6583\",\n        \"type\": \"print\"\n      },\n      {\n        \"value\": \"2175-7860\",\n        \"type\": \"electronic\"\n      }\n    ]\n    */\n\n                if (csl['issn-type']) {\n                    for (var i in csl['issn-type']) {\n                        if (csl['issn-type'][i].type == \"print\") {\n                            issn = csl['issn-type'][i].value;\n                        }\n                    }\n                }\n                if (issn == '') {\n                    if (csl.ISSN) {\n                        issn = csl.ISSN[0];\n                    }\n                }\n                if (issn != '') {\n                    emit([title, issn], 1);\n\n                }\n            }\n        }\n    }\n}","reduce":"_sum"},"work-issn-value":{"map":"function(doc) {\n    if (doc['message-format']) {\n        if (doc['message-format'] == 'application/vnd.crossref-api-message+json') {\n\n            var csl = doc.message;\n\n \n            var issn = '';\n\n                /*\n\"issn-type\": [\n      {\n        \"value\": \"0370-6583\",\n        \"type\": \"print\"\n      },\n      {\n        \"value\": \"2175-7860\",\n        \"type\": \"electronic\"\n      }\n    ]\n    */\n\n                if (csl['issn-type']) {\n                    for (var i in csl['issn-type']) {\n                        if (csl['issn-type'][i].type == \"print\") {\n                            issn = csl['issn-type'][i].value;\n                        }\n                    }\n                }\n                if (issn == '') {\n                    if (csl.ISSN) {\n                        issn = csl.ISSN[0];\n                    }\n                }\n                if (issn != '') {\n                    emit(issn, 1);\n\n                }\n            \n        }\n    }\n}","reduce":"_sum"}},"language":"javascript"}

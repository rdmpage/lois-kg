{"_id":"_design/triples","_rev":"4-78ca40643cd05d805dd0c3fae3cd2a72","lists":{"triples":"function(head,req) { var row; start({ 'headers': { 'Content-Type': 'text/plain' } }); while(row = getRow()) { send(row.value); } }","values":"function(head,req) { var row; start({ 'headers': { 'Content-Type': 'text/plain' } }); while(row = getRow()) { send(row.value); } }"},"views":{"nt":{"map":"//----------------------------------------------------------------------------------------\nvar Latinise={};Latinise.latin_map={\"Á\":\"A\",\"Ă\":\"A\",\"Ắ\":\"A\",\"Ặ\":\"A\",\"Ằ\":\"A\",\"Ẳ\":\"A\",\"Ẵ\":\"A\",\"Ǎ\":\"A\",\"Â\":\"A\",\"Ấ\":\"A\",\"Ậ\":\"A\",\"Ầ\":\"A\",\"Ẩ\":\"A\",\"Ẫ\":\"A\",\"Ä\":\"A\",\"Ǟ\":\"A\",\"Ȧ\":\"A\",\"Ǡ\":\"A\",\"Ạ\":\"A\",\"Ȁ\":\"A\",\"À\":\"A\",\"Ả\":\"A\",\"Ȃ\":\"A\",\"Ā\":\"A\",\"Ą\":\"A\",\"Å\":\"A\",\"Ǻ\":\"A\",\"Ḁ\":\"A\",\"Ⱥ\":\"A\",\"Ã\":\"A\",\"Ꜳ\":\"AA\",\"Æ\":\"AE\",\"Ǽ\":\"AE\",\"Ǣ\":\"AE\",\"Ꜵ\":\"AO\",\"Ꜷ\":\"AU\",\"Ꜹ\":\"AV\",\"Ꜻ\":\"AV\",\"Ꜽ\":\"AY\",\"Ḃ\":\"B\",\"Ḅ\":\"B\",\"Ɓ\":\"B\",\"Ḇ\":\"B\",\"Ƀ\":\"B\",\"Ƃ\":\"B\",\"Ć\":\"C\",\"Č\":\"C\",\"Ç\":\"C\",\"Ḉ\":\"C\",\"Ĉ\":\"C\",\"Ċ\":\"C\",\"Ƈ\":\"C\",\"Ȼ\":\"C\",\"Ď\":\"D\",\"Ḑ\":\"D\",\"Ḓ\":\"D\",\"Ḋ\":\"D\",\"Ḍ\":\"D\",\"Ɗ\":\"D\",\"Ḏ\":\"D\",\"ǲ\":\"D\",\"ǅ\":\"D\",\"Đ\":\"D\",\"Ƌ\":\"D\",\"Ǳ\":\"DZ\",\"Ǆ\":\"DZ\",\"É\":\"E\",\"Ĕ\":\"E\",\"Ě\":\"E\",\"Ȩ\":\"E\",\"Ḝ\":\"E\",\"Ê\":\"E\",\"Ế\":\"E\",\"Ệ\":\"E\",\"Ề\":\"E\",\"Ể\":\"E\",\"Ễ\":\"E\",\"Ḙ\":\"E\",\"Ë\":\"E\",\"Ė\":\"E\",\"Ẹ\":\"E\",\"Ȅ\":\"E\",\"È\":\"E\",\"Ẻ\":\"E\",\"Ȇ\":\"E\",\"Ē\":\"E\",\"Ḗ\":\"E\",\"Ḕ\":\"E\",\"Ę\":\"E\",\"Ɇ\":\"E\",\"Ẽ\":\"E\",\"Ḛ\":\"E\",\"Ꝫ\":\"ET\",\"Ḟ\":\"F\",\"Ƒ\":\"F\",\"Ǵ\":\"G\",\"Ğ\":\"G\",\"Ǧ\":\"G\",\"Ģ\":\"G\",\"Ĝ\":\"G\",\"Ġ\":\"G\",\"Ɠ\":\"G\",\"Ḡ\":\"G\",\"Ǥ\":\"G\",\"Ḫ\":\"H\",\"Ȟ\":\"H\",\"Ḩ\":\"H\",\"Ĥ\":\"H\",\"Ⱨ\":\"H\",\"Ḧ\":\"H\",\"Ḣ\":\"H\",\"Ḥ\":\"H\",\"Ħ\":\"H\",\"Í\":\"I\",\"Ĭ\":\"I\",\"Ǐ\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"Ḯ\":\"I\",\"İ\":\"I\",\"Ị\":\"I\",\"Ȉ\":\"I\",\"Ì\":\"I\",\"Ỉ\":\"I\",\"Ȋ\":\"I\",\"Ī\":\"I\",\"Į\":\"I\",\"Ɨ\":\"I\",\"Ĩ\":\"I\",\"Ḭ\":\"I\",\"Ꝺ\":\"D\",\"Ꝼ\":\"F\",\"Ᵹ\":\"G\",\"Ꞃ\":\"R\",\"Ꞅ\":\"S\",\"Ꞇ\":\"T\",\"Ꝭ\":\"IS\",\"Ĵ\":\"J\",\"Ɉ\":\"J\",\"Ḱ\":\"K\",\"Ǩ\":\"K\",\"Ķ\":\"K\",\"Ⱪ\":\"K\",\"Ꝃ\":\"K\",\"Ḳ\":\"K\",\"Ƙ\":\"K\",\"Ḵ\":\"K\",\"Ꝁ\":\"K\",\"Ꝅ\":\"K\",\"Ĺ\":\"L\",\"Ƚ\":\"L\",\"Ľ\":\"L\",\"Ļ\":\"L\",\"Ḽ\":\"L\",\"Ḷ\":\"L\",\"Ḹ\":\"L\",\"Ⱡ\":\"L\",\"Ꝉ\":\"L\",\"Ḻ\":\"L\",\"Ŀ\":\"L\",\"Ɫ\":\"L\",\"ǈ\":\"L\",\"Ł\":\"L\",\"Ǉ\":\"LJ\",\"Ḿ\":\"M\",\"Ṁ\":\"M\",\"Ṃ\":\"M\",\"Ɱ\":\"M\",\"Ń\":\"N\",\"Ň\":\"N\",\"Ņ\":\"N\",\"Ṋ\":\"N\",\"Ṅ\":\"N\",\"Ṇ\":\"N\",\"Ǹ\":\"N\",\"Ɲ\":\"N\",\"Ṉ\":\"N\",\"Ƞ\":\"N\",\"ǋ\":\"N\",\"Ñ\":\"N\",\"Ǌ\":\"NJ\",\"Ó\":\"O\",\"Ŏ\":\"O\",\"Ǒ\":\"O\",\"Ô\":\"O\",\"Ố\":\"O\",\"Ộ\":\"O\",\"Ồ\":\"O\",\"Ổ\":\"O\",\"Ỗ\":\"O\",\"Ö\":\"O\",\"Ȫ\":\"O\",\"Ȯ\":\"O\",\"Ȱ\":\"O\",\"Ọ\":\"O\",\"Ő\":\"O\",\"Ȍ\":\"O\",\"Ò\":\"O\",\"Ỏ\":\"O\",\"Ơ\":\"O\",\"Ớ\":\"O\",\"Ợ\":\"O\",\"Ờ\":\"O\",\"Ở\":\"O\",\"Ỡ\":\"O\",\"Ȏ\":\"O\",\"Ꝋ\":\"O\",\"Ꝍ\":\"O\",\"Ō\":\"O\",\"Ṓ\":\"O\",\"Ṑ\":\"O\",\"Ɵ\":\"O\",\"Ǫ\":\"O\",\"Ǭ\":\"O\",\"Ø\":\"O\",\"Ǿ\":\"O\",\"Õ\":\"O\",\"Ṍ\":\"O\",\"Ṏ\":\"O\",\"Ȭ\":\"O\",\"Ƣ\":\"OI\",\"Ꝏ\":\"OO\",\"Ɛ\":\"E\",\"Ɔ\":\"O\",\"Ȣ\":\"OU\",\"Ṕ\":\"P\",\"Ṗ\":\"P\",\"Ꝓ\":\"P\",\"Ƥ\":\"P\",\"Ꝕ\":\"P\",\"Ᵽ\":\"P\",\"Ꝑ\":\"P\",\"Ꝙ\":\"Q\",\"Ꝗ\":\"Q\",\"Ŕ\":\"R\",\"Ř\":\"R\",\"Ŗ\":\"R\",\"Ṙ\":\"R\",\"Ṛ\":\"R\",\"Ṝ\":\"R\",\"Ȑ\":\"R\",\"Ȓ\":\"R\",\"Ṟ\":\"R\",\"Ɍ\":\"R\",\"Ɽ\":\"R\",\"Ꜿ\":\"C\",\"Ǝ\":\"E\",\"Ś\":\"S\",\"Ṥ\":\"S\",\"Š\":\"S\",\"Ṧ\":\"S\",\"Ş\":\"S\",\"Ŝ\":\"S\",\"Ș\":\"S\",\"Ṡ\":\"S\",\"Ṣ\":\"S\",\"Ṩ\":\"S\",\"Ť\":\"T\",\"Ţ\":\"T\",\"Ṱ\":\"T\",\"Ț\":\"T\",\"Ⱦ\":\"T\",\"Ṫ\":\"T\",\"Ṭ\":\"T\",\"Ƭ\":\"T\",\"Ṯ\":\"T\",\"Ʈ\":\"T\",\"Ŧ\":\"T\",\"Ɐ\":\"A\",\"Ꞁ\":\"L\",\"Ɯ\":\"M\",\"Ʌ\":\"V\",\"Ꜩ\":\"TZ\",\"Ú\":\"U\",\"Ŭ\":\"U\",\"Ǔ\":\"U\",\"Û\":\"U\",\"Ṷ\":\"U\",\"Ü\":\"U\",\"Ǘ\":\"U\",\"Ǚ\":\"U\",\"Ǜ\":\"U\",\"Ǖ\":\"U\",\"Ṳ\":\"U\",\"Ụ\":\"U\",\"Ű\":\"U\",\"Ȕ\":\"U\",\"Ù\":\"U\",\"Ủ\":\"U\",\"Ư\":\"U\",\"Ứ\":\"U\",\"Ự\":\"U\",\"Ừ\":\"U\",\"Ử\":\"U\",\"Ữ\":\"U\",\"Ȗ\":\"U\",\"Ū\":\"U\",\"Ṻ\":\"U\",\"Ų\":\"U\",\"Ů\":\"U\",\"Ũ\":\"U\",\"Ṹ\":\"U\",\"Ṵ\":\"U\",\"Ꝟ\":\"V\",\"Ṿ\":\"V\",\"Ʋ\":\"V\",\"Ṽ\":\"V\",\"Ꝡ\":\"VY\",\"Ẃ\":\"W\",\"Ŵ\":\"W\",\"Ẅ\":\"W\",\"Ẇ\":\"W\",\"Ẉ\":\"W\",\"Ẁ\":\"W\",\"Ⱳ\":\"W\",\"Ẍ\":\"X\",\"Ẋ\":\"X\",\"Ý\":\"Y\",\"Ŷ\":\"Y\",\"Ÿ\":\"Y\",\"Ẏ\":\"Y\",\"Ỵ\":\"Y\",\"Ỳ\":\"Y\",\"Ƴ\":\"Y\",\"Ỷ\":\"Y\",\"Ỿ\":\"Y\",\"Ȳ\":\"Y\",\"Ɏ\":\"Y\",\"Ỹ\":\"Y\",\"Ź\":\"Z\",\"Ž\":\"Z\",\"Ẑ\":\"Z\",\"Ⱬ\":\"Z\",\"Ż\":\"Z\",\"Ẓ\":\"Z\",\"Ȥ\":\"Z\",\"Ẕ\":\"Z\",\"Ƶ\":\"Z\",\"Ĳ\":\"IJ\",\"Œ\":\"OE\",\"ᴀ\":\"A\",\"ᴁ\":\"AE\",\"ʙ\":\"B\",\"ᴃ\":\"B\",\"ᴄ\":\"C\",\"ᴅ\":\"D\",\"ᴇ\":\"E\",\"ꜰ\":\"F\",\"ɢ\":\"G\",\"ʛ\":\"G\",\"ʜ\":\"H\",\"ɪ\":\"I\",\"ʁ\":\"R\",\"ᴊ\":\"J\",\"ᴋ\":\"K\",\"ʟ\":\"L\",\"ᴌ\":\"L\",\"ᴍ\":\"M\",\"ɴ\":\"N\",\"ᴏ\":\"O\",\"ɶ\":\"OE\",\"ᴐ\":\"O\",\"ᴕ\":\"OU\",\"ᴘ\":\"P\",\"ʀ\":\"R\",\"ᴎ\":\"N\",\"ᴙ\":\"R\",\"ꜱ\":\"S\",\"ᴛ\":\"T\",\"ⱻ\":\"E\",\"ᴚ\":\"R\",\"ᴜ\":\"U\",\"ᴠ\":\"V\",\"ᴡ\":\"W\",\"ʏ\":\"Y\",\"ᴢ\":\"Z\",\"á\":\"a\",\"ă\":\"a\",\"ắ\":\"a\",\"ặ\":\"a\",\"ằ\":\"a\",\"ẳ\":\"a\",\"ẵ\":\"a\",\"ǎ\":\"a\",\"â\":\"a\",\"ấ\":\"a\",\"ậ\":\"a\",\"ầ\":\"a\",\"ẩ\":\"a\",\"ẫ\":\"a\",\"ä\":\"a\",\"ǟ\":\"a\",\"ȧ\":\"a\",\"ǡ\":\"a\",\"ạ\":\"a\",\"ȁ\":\"a\",\"à\":\"a\",\"ả\":\"a\",\"ȃ\":\"a\",\"ā\":\"a\",\"ą\":\"a\",\"ᶏ\":\"a\",\"ẚ\":\"a\",\"å\":\"a\",\"ǻ\":\"a\",\"ḁ\":\"a\",\"ⱥ\":\"a\",\"ã\":\"a\",\"ꜳ\":\"aa\",\"æ\":\"ae\",\"ǽ\":\"ae\",\"ǣ\":\"ae\",\"ꜵ\":\"ao\",\"ꜷ\":\"au\",\"ꜹ\":\"av\",\"ꜻ\":\"av\",\"ꜽ\":\"ay\",\"ḃ\":\"b\",\"ḅ\":\"b\",\"ɓ\":\"b\",\"ḇ\":\"b\",\"ᵬ\":\"b\",\"ᶀ\":\"b\",\"ƀ\":\"b\",\"ƃ\":\"b\",\"ɵ\":\"o\",\"ć\":\"c\",\"č\":\"c\",\"ç\":\"c\",\"ḉ\":\"c\",\"ĉ\":\"c\",\"ɕ\":\"c\",\"ċ\":\"c\",\"ƈ\":\"c\",\"ȼ\":\"c\",\"ď\":\"d\",\"ḑ\":\"d\",\"ḓ\":\"d\",\"ȡ\":\"d\",\"ḋ\":\"d\",\"ḍ\":\"d\",\"ɗ\":\"d\",\"ᶑ\":\"d\",\"ḏ\":\"d\",\"ᵭ\":\"d\",\"ᶁ\":\"d\",\"đ\":\"d\",\"ɖ\":\"d\",\"ƌ\":\"d\",\"ı\":\"i\",\"ȷ\":\"j\",\"ɟ\":\"j\",\"ʄ\":\"j\",\"ǳ\":\"dz\",\"ǆ\":\"dz\",\"é\":\"e\",\"ĕ\":\"e\",\"ě\":\"e\",\"ȩ\":\"e\",\"ḝ\":\"e\",\"ê\":\"e\",\"ế\":\"e\",\"ệ\":\"e\",\"ề\":\"e\",\"ể\":\"e\",\"ễ\":\"e\",\"ḙ\":\"e\",\"ë\":\"e\",\"ė\":\"e\",\"ẹ\":\"e\",\"ȅ\":\"e\",\"è\":\"e\",\"ẻ\":\"e\",\"ȇ\":\"e\",\"ē\":\"e\",\"ḗ\":\"e\",\"ḕ\":\"e\",\"ⱸ\":\"e\",\"ę\":\"e\",\"ᶒ\":\"e\",\"ɇ\":\"e\",\"ẽ\":\"e\",\"ḛ\":\"e\",\"ꝫ\":\"et\",\"ḟ\":\"f\",\"ƒ\":\"f\",\"ᵮ\":\"f\",\"ᶂ\":\"f\",\"ǵ\":\"g\",\"ğ\":\"g\",\"ǧ\":\"g\",\"ģ\":\"g\",\"ĝ\":\"g\",\"ġ\":\"g\",\"ɠ\":\"g\",\"ḡ\":\"g\",\"ᶃ\":\"g\",\"ǥ\":\"g\",\"ḫ\":\"h\",\"ȟ\":\"h\",\"ḩ\":\"h\",\"ĥ\":\"h\",\"ⱨ\":\"h\",\"ḧ\":\"h\",\"ḣ\":\"h\",\"ḥ\":\"h\",\"ɦ\":\"h\",\"ẖ\":\"h\",\"ħ\":\"h\",\"ƕ\":\"hv\",\"í\":\"i\",\"ĭ\":\"i\",\"ǐ\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"ḯ\":\"i\",\"ị\":\"i\",\"ȉ\":\"i\",\"ì\":\"i\",\"ỉ\":\"i\",\"ȋ\":\"i\",\"ī\":\"i\",\"į\":\"i\",\"ᶖ\":\"i\",\"ɨ\":\"i\",\"ĩ\":\"i\",\"ḭ\":\"i\",\"ꝺ\":\"d\",\"ꝼ\":\"f\",\"ᵹ\":\"g\",\"ꞃ\":\"r\",\"ꞅ\":\"s\",\"ꞇ\":\"t\",\"ꝭ\":\"is\",\"ǰ\":\"j\",\"ĵ\":\"j\",\"ʝ\":\"j\",\"ɉ\":\"j\",\"ḱ\":\"k\",\"ǩ\":\"k\",\"ķ\":\"k\",\"ⱪ\":\"k\",\"ꝃ\":\"k\",\"ḳ\":\"k\",\"ƙ\":\"k\",\"ḵ\":\"k\",\"ᶄ\":\"k\",\"ꝁ\":\"k\",\"ꝅ\":\"k\",\"ĺ\":\"l\",\"ƚ\":\"l\",\"ɬ\":\"l\",\"ľ\":\"l\",\"ļ\":\"l\",\"ḽ\":\"l\",\"ȴ\":\"l\",\"ḷ\":\"l\",\"ḹ\":\"l\",\"ⱡ\":\"l\",\"ꝉ\":\"l\",\"ḻ\":\"l\",\"ŀ\":\"l\",\"ɫ\":\"l\",\"ᶅ\":\"l\",\"ɭ\":\"l\",\"ł\":\"l\",\"ǉ\":\"lj\",\"ſ\":\"s\",\"ẜ\":\"s\",\"ẛ\":\"s\",\"ẝ\":\"s\",\"ḿ\":\"m\",\"ṁ\":\"m\",\"ṃ\":\"m\",\"ɱ\":\"m\",\"ᵯ\":\"m\",\"ᶆ\":\"m\",\"ń\":\"n\",\"ň\":\"n\",\"ņ\":\"n\",\"ṋ\":\"n\",\"ȵ\":\"n\",\"ṅ\":\"n\",\"ṇ\":\"n\",\"ǹ\":\"n\",\"ɲ\":\"n\",\"ṉ\":\"n\",\"ƞ\":\"n\",\"ᵰ\":\"n\",\"ᶇ\":\"n\",\"ɳ\":\"n\",\"ñ\":\"n\",\"ǌ\":\"nj\",\"ó\":\"o\",\"ŏ\":\"o\",\"ǒ\":\"o\",\"ô\":\"o\",\"ố\":\"o\",\"ộ\":\"o\",\"ồ\":\"o\",\"ổ\":\"o\",\"ỗ\":\"o\",\"ö\":\"o\",\"ȫ\":\"o\",\"ȯ\":\"o\",\"ȱ\":\"o\",\"ọ\":\"o\",\"ő\":\"o\",\"ȍ\":\"o\",\"ò\":\"o\",\"ỏ\":\"o\",\"ơ\":\"o\",\"ớ\":\"o\",\"ợ\":\"o\",\"ờ\":\"o\",\"ở\":\"o\",\"ỡ\":\"o\",\"ȏ\":\"o\",\"ꝋ\":\"o\",\"ꝍ\":\"o\",\"ⱺ\":\"o\",\"ō\":\"o\",\"ṓ\":\"o\",\"ṑ\":\"o\",\"ǫ\":\"o\",\"ǭ\":\"o\",\"ø\":\"o\",\"ǿ\":\"o\",\"õ\":\"o\",\"ṍ\":\"o\",\"ṏ\":\"o\",\"ȭ\":\"o\",\"ƣ\":\"oi\",\"ꝏ\":\"oo\",\"ɛ\":\"e\",\"ᶓ\":\"e\",\"ɔ\":\"o\",\"ᶗ\":\"o\",\"ȣ\":\"ou\",\"ṕ\":\"p\",\"ṗ\":\"p\",\"ꝓ\":\"p\",\"ƥ\":\"p\",\"ᵱ\":\"p\",\"ᶈ\":\"p\",\"ꝕ\":\"p\",\"ᵽ\":\"p\",\"ꝑ\":\"p\",\"ꝙ\":\"q\",\"ʠ\":\"q\",\"ɋ\":\"q\",\"ꝗ\":\"q\",\"ŕ\":\"r\",\"ř\":\"r\",\"ŗ\":\"r\",\"ṙ\":\"r\",\"ṛ\":\"r\",\"ṝ\":\"r\",\"ȑ\":\"r\",\"ɾ\":\"r\",\"ᵳ\":\"r\",\"ȓ\":\"r\",\"ṟ\":\"r\",\"ɼ\":\"r\",\"ᵲ\":\"r\",\"ᶉ\":\"r\",\"ɍ\":\"r\",\"ɽ\":\"r\",\"ↄ\":\"c\",\"ꜿ\":\"c\",\"ɘ\":\"e\",\"ɿ\":\"r\",\"ś\":\"s\",\"ṥ\":\"s\",\"š\":\"s\",\"ṧ\":\"s\",\"ş\":\"s\",\"ŝ\":\"s\",\"ș\":\"s\",\"ṡ\":\"s\",\"ṣ\":\"s\",\"ṩ\":\"s\",\"ʂ\":\"s\",\"ᵴ\":\"s\",\"ᶊ\":\"s\",\"ȿ\":\"s\",\"ɡ\":\"g\",\"ᴑ\":\"o\",\"ᴓ\":\"o\",\"ᴝ\":\"u\",\"ť\":\"t\",\"ţ\":\"t\",\"ṱ\":\"t\",\"ț\":\"t\",\"ȶ\":\"t\",\"ẗ\":\"t\",\"ⱦ\":\"t\",\"ṫ\":\"t\",\"ṭ\":\"t\",\"ƭ\":\"t\",\"ṯ\":\"t\",\"ᵵ\":\"t\",\"ƫ\":\"t\",\"ʈ\":\"t\",\"ŧ\":\"t\",\"ᵺ\":\"th\",\"ɐ\":\"a\",\"ᴂ\":\"ae\",\"ǝ\":\"e\",\"ᵷ\":\"g\",\"ɥ\":\"h\",\"ʮ\":\"h\",\"ʯ\":\"h\",\"ᴉ\":\"i\",\"ʞ\":\"k\",\"ꞁ\":\"l\",\"ɯ\":\"m\",\"ɰ\":\"m\",\"ᴔ\":\"oe\",\"ɹ\":\"r\",\"ɻ\":\"r\",\"ɺ\":\"r\",\"ⱹ\":\"r\",\"ʇ\":\"t\",\"ʌ\":\"v\",\"ʍ\":\"w\",\"ʎ\":\"y\",\"ꜩ\":\"tz\",\"ú\":\"u\",\"ŭ\":\"u\",\"ǔ\":\"u\",\"û\":\"u\",\"ṷ\":\"u\",\"ü\":\"u\",\"ǘ\":\"u\",\"ǚ\":\"u\",\"ǜ\":\"u\",\"ǖ\":\"u\",\"ṳ\":\"u\",\"ụ\":\"u\",\"ű\":\"u\",\"ȕ\":\"u\",\"ù\":\"u\",\"ủ\":\"u\",\"ư\":\"u\",\"ứ\":\"u\",\"ự\":\"u\",\"ừ\":\"u\",\"ử\":\"u\",\"ữ\":\"u\",\"ȗ\":\"u\",\"ū\":\"u\",\"ṻ\":\"u\",\"ų\":\"u\",\"ᶙ\":\"u\",\"ů\":\"u\",\"ũ\":\"u\",\"ṹ\":\"u\",\"ṵ\":\"u\",\"ᵫ\":\"ue\",\"ꝸ\":\"um\",\"ⱴ\":\"v\",\"ꝟ\":\"v\",\"ṿ\":\"v\",\"ʋ\":\"v\",\"ᶌ\":\"v\",\"ⱱ\":\"v\",\"ṽ\":\"v\",\"ꝡ\":\"vy\",\"ẃ\":\"w\",\"ŵ\":\"w\",\"ẅ\":\"w\",\"ẇ\":\"w\",\"ẉ\":\"w\",\"ẁ\":\"w\",\"ⱳ\":\"w\",\"ẘ\":\"w\",\"ẍ\":\"x\",\"ẋ\":\"x\",\"ᶍ\":\"x\",\"ý\":\"y\",\"ŷ\":\"y\",\"ÿ\":\"y\",\"ẏ\":\"y\",\"ỵ\":\"y\",\"ỳ\":\"y\",\"ƴ\":\"y\",\"ỷ\":\"y\",\"ỿ\":\"y\",\"ȳ\":\"y\",\"ẙ\":\"y\",\"ɏ\":\"y\",\"ỹ\":\"y\",\"ź\":\"z\",\"ž\":\"z\",\"ẑ\":\"z\",\"ʑ\":\"z\",\"ⱬ\":\"z\",\"ż\":\"z\",\"ẓ\":\"z\",\"ȥ\":\"z\",\"ẕ\":\"z\",\"ᵶ\":\"z\",\"ᶎ\":\"z\",\"ʐ\":\"z\",\"ƶ\":\"z\",\"ɀ\":\"z\",\"ﬀ\":\"ff\",\"ﬃ\":\"ffi\",\"ﬄ\":\"ffl\",\"ﬁ\":\"fi\",\"ﬂ\":\"fl\",\"ĳ\":\"ij\",\"œ\":\"oe\",\"ﬆ\":\"st\",\"ₐ\":\"a\",\"ₑ\":\"e\",\"ᵢ\":\"i\",\"ⱼ\":\"j\",\"ₒ\":\"o\",\"ᵣ\":\"r\",\"ᵤ\":\"u\",\"ᵥ\":\"v\",\"ₓ\":\"x\"};\nString.prototype.latinise=function(){return this.replace(/[^A-Za-z0-9\\[\\] ]/g,function(a){return Latinise.latin_map[a]||a})};\nString.prototype.latinize=String.prototype.latinise;\nString.prototype.isLatin=function(){return this==this.latinise()}\n\n/*\n\nShared code\n\n\n*/\n//----------------------------------------------------------------------------------------\n// http://stackoverflow.com/a/25715455\nfunction isObject(item) {\n    return (typeof item === \"object\" && !Array.isArray(item) && item !== null);\n}\n\n//----------------------------------------------------------------------------------------\n// http://stackoverflow.com/a/21445415\nfunction uniques(arr) {\n    var a = [];\n    for (var i = 0, l = arr.length; i < l; i++)\n        if (a.indexOf(arr[i]) === -1 && arr[i] !== '')\n            a.push(arr[i]);\n    return a;\n}\n\n\n//----------------------------------------------------------------------------------------\n// Store a triple with optional language code\nfunction triple(subject, predicate, object, language) {\n    var triple = [];\n    triple[0] = subject;\n    triple[1] = predicate;\n    triple[2] = object;\n\n    if (typeof language === 'undefined') {} else {\n        triple[3] = language;\n    }\n\n    return triple;\n}\n\n//----------------------------------------------------------------------------------------\n// Enclose triple in suitable wrapping for HTML display or triplet output\nfunction wrap(s, html) {\n    if (s) {\n\n        if (s.match(/^(http|urn|_:)/)) {\n            s = s.replace(/\\\\_/g, '_');\n\n            // handle < > in URIs such as SICI-based DOIs\n            s = s.replace(/</g, '%3C');\n            s = s.replace(/>/g, '%3E');\n\n            if (html) {\n                s = '&lt;' + s + '&gt;';\n            } else {\n                s = '<' + s + '>';\n            }\n        } else {\n         if (s.match(/^\".*\"$/)) {\n            // already quoted, but maybe not escaped\n            s = s.replace(/^\"/, '');\n            s = s.replace(/\"$/g, '');\n          }\n          s = '\"' + s.replace(/\"/g, '\\\\\"') + '\"';\n        }\n    }\n    return s;\n}\n\n//----------------------------------------------------------------------------------------\n// https://css-tricks.com/snippets/javascript/htmlentities-for-javascript/\nfunction htmlEntities(str) {\n    return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\n//----------------------------------------------------------------------------------------\nfunction detect_language(s) {\n    var language = null;\n    var matched = 0;\n    var parts = [];\n\n    var regexp = [];\n\n    // https://gist.github.com/ryanmcgrath/982242\n    regexp['ja'] = /[\\u3000-\\u303F]|[\\u3040-\\u309F]|[\\u30A0-\\u30FF]|[\\uFF00-\\uFFEF]|[\\u4E00-\\u9FAF]|[\\u2605-\\u2606]|[\\u2190-\\u2195]|\\u203B/g;\n    // http://hjzhao.blogspot.co.uk/2015/09/javascript-detect-chinese-character.html\n    regexp['zh'] = /[\\u4E00-\\uFA29]/g;\n    // http://stackoverflow.com/questions/32709687/js-check-if-string-contains-only-cyrillic-symbols-and-spaces\n    regexp['ru'] = /[\\u0400-\\u04FF]/g;\n\n    for (var i in regexp) {\n        parts = s.match(regexp[i]);\n\n        if (parts != null) {\n            if (parts.length > matched) {\n                language = i;\n                matched = parts.length;\n            }\n        }\n    }\n\n    // require a minimum matching\n    if (matched < 2) {\n        language = null;\n    }\n\n    return language;\n\n}\n\n//----------------------------------------------------------------------------------------\nfunction finger_print(s) {\n    s = s.toLowerCase();\n\n    // stop words\n    // en\n    s = s.replace(/\\bfor\\b/g, '');\n    s = s.replace(/\\band\\b/g, '')\n    s = s.replace(/\\bof\\b/g, '');\n    s = s.replace(/\\bthe\\b/g, '');\n    s = s.replace(/\\bin\\b/g, '');\n\n    // fr\n    s = s.replace(/\\bde\\b/g, '');\n    s = s.replace(/\\bla\\b/g, '');\n    s = s.replace(/\\bet\\b/g, '');\n\n    // de\n    s = s.replace(/\\bdas\\b/g, '');\n    s = s.replace(/\\bder\\b/g, '');\n    s = s.replace(/\\bfur\\b/g, '');\n\n    // numbers\n    s = s.replace(/\\d+/g, '');\n\n\n    // white space\n    s = s.replace(/\\s\\s*/g, '');\n\n    // punctuation\n    s = s.replace(/[\\.|,|\\'|\\(|\\)|\"|:|-|&|-]+/g, '');\n\n    return s;\n}\n\n//----------------------------------------------------------------------------------------\nfunction output(doc, triples) {\n    // CouchDB\n    for (var i in triples) {\n        var s = 0;\n        var p = 1;\n        var o = 2;\n\n        var lang = 3;\n\n        var nquads = wrap(triples[i][s], false) +\n            ' ' + wrap(triples[i][p], false) +\n            ' ' + wrap(triples[i][o], false);\n        if (triples[i][lang]) {\n            nquads += '@' + triples[i][lang];\n        }\n\n        nquads += ' .' + \"\\n\";\n\n        // use cluster_id as the key so triples from different versions are linked together\n        emit(doc._id, nquads);\n        //console.log(nquads);\n    }\n}\n\n\n//----------------------------------------------------------------------------------------\n// Based on https://github.com/jprante/elasticsearch-analysis-standardnumber/blob/master/src/main/java/org/xbib/elasticsearch/common/standardnumber/SICI.java\nfunction sici_checksum(sici) {\n\tvar ALPHABET = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ#\";\n\n    var modulus = ALPHABET.length;\n\tvar len = sici.length;\n\tvar sum = 0;\n\tfor (var i = 0; i < len; i++) {\n\t\tvar val = ALPHABET.indexOf(sici.charAt(i));\n\t\t sum += val *  (i %2 == 0 ? 1 : 3);\n\t}\n\n    var chk = modulus - sum % modulus;\n    \n    var check = chk > 35 ? '#' : ALPHABET.charAt(chk);\n\n\treturn check;\n}\n\n//----------------------------------------------------------------------------------------\nfunction create_sici(item) {\n\n\tvar sici = [];\n\n\tsici.push(item.issn);\n\t\n\tsici.push('(');\t\t\n\tsici.push(item.year);\n\tsici.push(')');\n\n\tsici.push(item.volume);\n\n\tsici.push('<');\n\n\tsici.push(item.spage); \n\t\n\t// title\n\tif (item.title) {\n\n    item.title = item.title.latinise();\n\n\t\titem.title = item.title.toUpperCase();\n\t\titem.title = item.title.replace(/[^A-Z\\s]/g, '');\n\n\t\tvar words = item.title.split(' ');\n\n\t\tvar numWords = Math.min(words.length, 6);\n\n\t\tvar initials = [];\n\t\tfor (var j = 0; j < numWords; j++)\n\t\t{\n\t\t\tinitials.push(words[j].charAt(0));\n\t\t}\n\n\t\tsici.push(':');\n\t\tsici.push(initials.join(''));\n\t}\t\n\n\tsici.push('>');\n\t\n\tsici.push('2.0');\n\tsici.push('.CO;2-');\n\t\n\tvar sici_string = sici.join('');\n\t\n\t// clean\n\tsici_string = sici_string.replace(/\\s/g, '');\n\t\n\tsici_string += sici_checksum(sici_string);\n\t\n\treturn sici_string;\n}\n\n//----------------------------------------------------------------------------------------\n// START COUCHDB VIEW\nfunction message(doc) {\n\n    var subject_id = 'https://identifiers.org/insdc:' + doc.accession;\n\n    \n    var triples = [];\n    var type = '';\n    \n    triples.push(\n    \ttriple(\n    \t\tsubject_id,\n\t\t\t'http://schema.org/name',\n\t\t\tdoc.accession\n\t\t\t)\n\t\t);\n\t\t\n    triples.push(\n    \ttriple(\n    \t\tsubject_id,\n\t\t\t'http://schema.org/description',\n\t\t\tdoc.definition\n\t\t\t)\n\t\t);\n\t\t\n    \n    // reference(s)\n    \n    if (doc.references) {\n    \tfor (var i in doc.references) {\n    \t\tif (doc.references[i].type == 'article-journal') {\n    \t\t\n    \t\t\tvar index = parseInt(i + 1);\n\n\t\t\t\tvar reference_id = subject_id + '#reference_' + index;\n\t\t\t\t\n\t\t\t\ttriples.push(\n\t\t\t\t\ttriple(\n\t\t\t\t\t\tsubject_id,\n\t\t\t\t\t\t'http://schema.org/citation',\n\t\t\t\t\t\treference_id\n\t\t\t\t\t\t)\n\t\t\t\t\t);\t\n\t\t\t\t\t\n\t\t\t\t// container\n\t\t\t\t\n\t\t\t\tvar container_id = reference_id + '#container';\n\t\t\t\tvar item = {};\n\t\t\t\t\n\t\t\t\tif (doc.references[i].ISSN) {\n\t\t\t\t\tcontainer_id = 'http://worldcat.org/issn/' + doc.references[i].ISSN[0];\n\t\t\t\t\titem.issn = doc.references[i].ISSN[0];\n\t\t\t\t}\t\t\t\n\t\t\t\t\n\t\t\t\ttriples.push(\n\t\t\t\t\ttriple(\n\t\t\t\t\t\treference_id,\n\t\t\t\t\t\t'http://schema.org/isPartOf',\n\t\t\t\t\t\tcontainer_id\n\t\t\t\t\t\t)\n\t\t\t\t\t);\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\n    \t\t\tfor (var j in doc.references[i]) {\n    \t\t\t\tswitch (j) {\n    \t\t\t\t\n    \t\t\t\t\tcase 'title':\n\t\t\t\t\t\t\ttriples.push(\n\t\t\t\t\t\t\t\ttriple(\n\t\t\t\t\t\t\t\t\treference_id,\n\t\t\t\t\t\t\t\t\t'http://schema.org/name',\n\t\t\t\t\t\t\t\t\tdoc.references[i][j]\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\t\n\t\t\t\t\t\t\titem.title = doc.references[i][j];\t\t\t\n    \t\t\t\t\t\tbreak;\n    \t\t\t\t\t\t\n    \t\t\t\t\tcase 'container-title':\n\t\t\t\t\t\t\ttriples.push(\n\t\t\t\t\t\t\t\ttriple(\n\t\t\t\t\t\t\t\t\tcontainer_id,\n\t\t\t\t\t\t\t\t\t'http://schema.org/name',\n\t\t\t\t\t\t\t\t\tdoc.references[i][j]\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\t\t\t\t    \t\t\t\t\t\t\n    \t\t\t\t\t\tbreak;\n    \t\t\t\t\t\t\n    \t\t\t\t\tcase 'volume':\n\t\t\t\t\t\t\ttriples.push(\n\t\t\t\t\t\t\t\ttriple(\n\t\t\t\t\t\t\t\t\treference_id,\n\t\t\t\t\t\t\t\t\t'http://schema.org/volumeNumber',\n\t\t\t\t\t\t\t\t\tdoc.references[i][j]\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\titem.volume = doc.references[i][j];\n    \t\t\t\t\t\tbreak;\n    \t\t\t\t\t\t\n    \t\t\t\t\tcase 'issue':\n\t\t\t\t\t\t\ttriples.push(\n\t\t\t\t\t\t\t\ttriple(\n\t\t\t\t\t\t\t\t\treference_id,\n\t\t\t\t\t\t\t\t\t'http://schema.org/issueNumber',\n\t\t\t\t\t\t\t\t\tdoc.references[i][j]\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\t\t\t\t\n    \t\t\t\t\t\tbreak;\n    \t\t\t\t\t\t\n    \t\t\t\t\tcase 'page-first':\n\t\t\t\t\t\t\ttriples.push(\n\t\t\t\t\t\t\t\ttriple(\n\t\t\t\t\t\t\t\t\treference_id,\n\t\t\t\t\t\t\t\t\t'http://schema.org/pageStart',\n\t\t\t\t\t\t\t\t\tdoc.references[i][j]\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\t\n\t\t\t\t\t\t\titem.spage = doc.references[i][j];\t\t\t\t\t    \t\t\t\t\t\n    \t\t\t\t\t\tbreak;\n\n\t\t\t\t\t  case 'issued':\n\t\t\t\t\t\t var date = '';\n\t\t\t\t\t\t var dateparts = doc.references[i][j]['date-parts'][0];\n\t\t \n\t\t\t\t\t\t switch (dateparts.length) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t   date = dateparts[0];\n\t\t\t\t\t\t\t   break;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t   date = dateparts[0] + '-' + (\"00\" + dateparts[1]).slice(-2) + '-00';\n\t\t\t\t\t\t\t   break;\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t   date = dateparts[0] + '-' + (\"00\" + dateparts[1]).slice(-2) + '-' + (\"00\" + dateparts[2]).slice(-2);\t           \n\t\t\t\t\t\t\t   break;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttriples.push(triple(reference_id,\n\t\t\t\t\t\t  'http://schema.org/datePublished',\n\t\t\t\t\t\t  date.toString()));\n\t\t\t\t\t\t  \n\t\t\t\t\t\titem.year = dateparts[0];\t    \n\t\t\t\t\t\tbreak;\n   \t\t\t\t\t\t\n    \t\t\t\t\t/*\n    \t\t\t\t\tcase 'DOI':\n\t\t\t\t\t\t\ttriples.push(\n\t\t\t\t\t\t\t\ttriple(\n\t\t\t\t\t\t\t\t\treference_id,\n\t\t\t\t\t\t\t\t\t'http://schema.org/sameAs',\n\t\t\t\t\t\t\t\t\t'\"https://doi.org/' +  doc.references[i][j] + '\"'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\t\t\t\t\n    \t\t\t\t\t\tbreak;\n    \t\t\t\t\t*/\n    \t\t\t\t\t\t\n    \t\t\t\t\tdefault:\n    \t\t\t\t\t\tbreak;\n    \t\t\t\t\t\n    \t\t\t\t\n    \t\t\t\t\n    \t\t\t\t\n    \t\t\t\t\n    \t\t\t\t}\n  \n    \t\t\t\n    \t\t\t\n    \t\t\t}\n    \t\t\n    \t\t  \t\t\t\t\n    \t\t\t\tif (\n    \t\t\t\t\titem.issn && item.volume && item.spage && item.title\n    \t\t\t\t\t)\n    \t\t\t\t{\n    \t\t\t\t\tvar sici = create_sici(item);\n\n\t\t\t\t\t\ttriples.push(triple(reference_id,\n\t\t\t\t\t\t  'http://schema.org/sameAs',\n\t\t\t\t\t\t  '\"urn:sici:' + sici + '\"')\n\t\t\t\t\t\t  );    \t\t\t\t\t\n    \t\t\t\t}\n    \t\t\n    \t\t}\n    \t\n    \t\n    \t}\n    \n    \n    }\n    \n    \n    // source\n    \n    \n    // taxonomy\n    \n    \n\n\n    if (type == '') {\n      type = 'http://schema.org/Record';\n    }    \n\n    // defaults\n    triples.push(triple(subject_id,\n      'http://www.w3.org/1999/02/22-rdf-syntax-ns#type',\n      type));\n\n    output(doc, triples);\n  \n}\n\nfunction(doc) {\n  message(doc);\n}\n// END COUCHDB VIEW"}},"language":"javascript"}
